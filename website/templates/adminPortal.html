{% extends "base.html" %} {% block title %} Admin Portal {% endblock %} {%block
content%}
<h1 class="text-center">Admin Dashboard</h1>
<br />
<style>
  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
  }

  td,
  th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
  }

  tr:nth-child(even) {
    background-color: #dddddd;
  }

  tr:nth-child(odd) {
    background-color: white;
  }
</style>

<div class="container-fluid bg-dark px-3 py-1 pb-4">
  
    <form class="form-inline" method="POST">
      <h2 class="text-light pt-2">User Accounts</h2>
        <div class="ml-auto">
          <input type="search" name="searchBar" class="form-control pr-1" placeholder="Search by ID#"
            list = "userData" />
          
            <datalist id="userData"> 
              {% for user in query %}
              <option name="userIndex" value="{{query[loop.index - 1].id}}">{{user.id}}</option>
              {% endfor %}
            </datalist>  
            <button class="btn btn-success" type="submit">Search</button>
        </div>  
    </form>

  <br>



  <div style="overflow: scroll; max-height: 300px">
    <table>
      <tr style="
          position: sticky;
          top: 0;
          background-color: darkgrey;
          color: white;
        ">
        <th>ID#:</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Username</th>
        <th>Type</th>
        <th>Date Created</th>
        <th>Status</th>
      </tr>

      {% for user in query %}
      <tr>
        <td>{{user.id}}</td>
        <td>{{user.firstName}}</td>
        <td>{{user.lastName}}</td>
        <td>{{user.email}}</td>
        <td>{{user.userName}}</td>

        {% if user.hasAdmin%}
        <td>Administrator</td>
        {% elif user.hasMan %}
        <td>Manager</td>
        {% else %}
        <td>User</td>
        {% endif %}

        <td>{{user.creationDate}}</td>

        {% if user.status %}
        <td style="color: green">Activated</td>
        {% else %}
        <td style="color: red">Deactivated</td>
        {% endif %}
      </tr>
      {% endfor %}
    </table>
  </div>

  <br>

</div>

{% endblock %}